plugins {
    id 'com.android.application'
    id 'org.jetbrains.kotlin.android'
    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'
}
apply from: '../dependencies.gradle'

android {
    namespace 'com.tcorredo.githubapi'
    compileSdk 33

    defaultConfig {
        applicationId "com.tcorredo.githubapi"
        minSdk 24
        targetSdk 33
        versionCode 1
        versionName "1.0"

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
    }
    buildFeatures {
        viewBinding = true
    }
    sourceSets {
        androidTest {
            assets.srcDirs = ['src/androidTest/assets']
        }
    }
}

dependencies {
    implementation generalDependencies.core
    implementation generalDependencies.appCompat
    implementation generalDependencies.material
    implementation generalDependencies.retrofit
    implementation generalDependencies.retrofitMoshi
    implementation generalDependencies.loggingInterceptor
    implementation generalDependencies.moshiKotlin
    implementation generalDependencies.moshiAdapter
    implementation generalDependencies.koin
    implementation generalDependencies.coroutinesCore
    implementation generalDependencies.coroutinesAndroid
    implementation generalDependencies.glide
    implementation generalDependencies.viewModelScope
    implementation generalDependencies.lifecycleScope
    implementation generalDependencies.navigationFragment
    implementation generalDependencies.navigationUi
    implementation 'androidx.test.espresso:espresso-idling-resource:3.5.1'

    testImplementation testDependencies.mockk
    testImplementation testDependencies.junit
    testImplementation testDependencies.coroutinesTest
    testImplementation testDependencies.koinJunitTest
    androidTestImplementation testDependencies.koinTest
    androidTestImplementation testDependencies.mockkAndroid
    androidTestImplementation testDependencies.androidJunit
    androidTestImplementation testDependencies.espresso
    androidTestImplementation testDependencies.mockWebServer
    androidTestImplementation testDependencies.coreKtx
    androidTestImplementation testDependencies.testRunner
}